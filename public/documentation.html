<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>API Documentation</title>
    <style>
        body { font-family: Arial, sans-serif; line-height: 1.6; margin: 20px; }
        h1 { color: #333; }
        h2 { color: #555; }
        code { background: #f4f4f4; padding: 2px 4px; border-radius: 4px; }
        pre { background: #f4f4f4; padding: 10px; border-radius: 4px; }
    </style>
</head>
<body>
    <h1>API Documentation</h1>
    <p>Base URL: <code>http://localhost:8080</code></p>

    <h2>Endpoints</h2>

    <h3>Get All Movies</h3>
    <p><strong>URL:</strong> <code>/movies</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Retrieves a list of all favorite movies.</p>
    <pre>
    <code>
    Response:
    Status: 200 OK
    [
        {"title":"Dune","year":"2022","genre":"Sci-fi"},
        {"title":"Predator","year":"1988","genre":"Action"},
        {"title":"The Notebook","year":"2003","genre":"Romance"},
        {"title":"Moneyball","year":"2022","genre":"Sport History"},
        {"title":"The Terminator","year":"1986","genre":"Sci-fi"},
        {"title":"Mortal Engines","year":"2012","genre":"Fantasy"}
    ]
    </code>
    </pre>

    <h3>Get Movie by Title</h3>
    <p><strong>URL:</strong> <code>/movies/:title</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Retrieves details of a specific movie by its title.</p>
    <p><strong>URL Parameters:</strong> <code>title</code> (string) - The title of the movie to retrieve.</p>
    <pre>
    <code>
    Response (if movie is found):
    Status: 200 OK
    {
        "title": "Dune",
        "year": "2022",
        "genre": "Sci-fi"
    }

    Response (if movie is not found):
    Status: 404 Not Found
    Movie not found
    </code>
    </pre>

    <h3>Add a New Movie</h3>
    <p><strong>URL:</strong> <code>/movies</code></p>
    <p><strong>Method:</strong> POST</p>
    <p><strong>Description:</strong> Adds a new movie to the list of favorite movies.</p>
    <p><strong>Request Body:</strong></p>
    <pre>
    <code>
    {
        "title": "New Movie",
        "year": "2024",
        "genre": "Drama"
    }
    </code>
    </pre>
    <pre>
    <code>
    Response (if movie is successfully added):
    Status: 201 Created
    {
        "title": "New Movie",
        "year": "2024",
        "genre": "Drama"
    }

    Response (if request body is missing or invalid):
    Status: 400 Bad Request
    No movie data in request body
    </code>
    </pre>

    <h3>Get Documentation</h3>
    <p><strong>URL:</strong> <code>/documentation</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Retrieves the API documentation.</p>
    <pre>
    <code>
    Response:
    Status: 200 OK
    Serves the documentation.html file.
    </code>
    </pre>

    <h3>Get Home Page</h3>
    <p><strong>URL:</strong> <code>/</code></p>
    <p><strong>Method:</strong> GET</p>
    <p><strong>Description:</strong> Retrieves the home page.</p>
    <pre>
    <code>
    Response:
    Status: 200 OK
    Serves the documentation.html file from the public directory.
    </code>
    </pre>

    <h2>Error Handling</h2>
    <p><strong>500 Internal Server Error:</strong> Catches any internal server errors and responds with a status code 500 and a message "Internal server error".</p>

    <h2>Middleware</h2>
    <p><strong>body-parser:</strong> Parses incoming request bodies in a middleware before your handlers, available under the <code>req.body</code> property.</p>
    <p><strong>morgan:</strong> HTTP request logger middleware for Node.js, configured to write logs to <code>log.txt</code>.</p>

    <h2>Logging</h2>
    <p>Logs all HTTP requests to <code>log.txt</code> using morgan middleware.</p>

    <h2>Static Files</h2>
    <p>Serves static files from the <code>public</code> directory.</p>

    <h2>Server Information</h2>
    <p><strong>Port:</strong> 8080</p>
    <p><strong>Listening on:</strong> <code>http://localhost:8080</code></p>

</body>
</html>
